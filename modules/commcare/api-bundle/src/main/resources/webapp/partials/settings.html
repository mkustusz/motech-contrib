<div>
    <form id="commcareSettingsForm" name="commcareSettingsForm" class="form-horizontal" novalidate>
        <legend>{{msg('settings.section.accountSettings')}}</legend>
        <div ng-class="cssClass('commcareDomain')">
            <label class="control-label" for="commcareDomain">{{msg('settings.label.commcareDomain')}}</label>

            <div class="controls">
                <input ng-model="settings.commcareDomain" type="text" id="commcareDomain" placeholder="{{msg('settings.label.commcareDomain')}}" required/>
                <span ng-hide="hasValue('commcareDomain')" class="help-inline">{{msg('settings.error.commcareDomain')}}</span>
                <span ng-hide="!hasValue('commcareDomain') || isUrl()" class="help-inline">{{msg('settings.warn.commcareDomain')}}</span>
            </div>
        </div>
        <div ng-class="cssClass('username')">
            <label class="control-label" for="username">{{msg('settings.label.username')}}</label>

            <div class="controls">
                <input ng-model="settings.username" type="text" id="username" placeholder="{{msg('settings.label.username')}}" required/>
                <span ng-hide="hasValue('username')" class="help-inline">{{msg('settings.error.username')}}</span>
            </div>
        </div>
        <div ng-class="cssClass('password')">
            <label class="control-label" for="password">{{msg('settings.label.password')}}</label>

            <div class="controls">
                <input ng-model="settings.password" type="password" id="password" placeholder="{{msg('settings.label.password')}}" required/>
                <span ng-hide="hasValue('password')" class="help-inline">{{msg('settings.error.password')}}</span>
            </div>
        </div>
        <legend>{{msg('settings.section.eventForwarding')}}</legend>
        <div ng-class="cssClass('eventStrategy')">
            <label class="control-label">{{msg('settings.label.eventStrategy')}}</label>

            <div class="controls">
                <select ng-model="settings.eventStrategy" ng-options="option for option in eventStrategyOptions" required ng-disabled="!hasAccountSettings()">
                    <option value="">-- {{msg('main.select')}} --</option>
                </select>
                <span ng-hide="hasValue('eventStrategy')" class="help-inline">{{msg('settings.error.eventStrategy')}}</span>
                <span class="alert alert-success help-block">{{msg('settings.tooltip.eventStrategy')}}</span>
            </div>
        </div>
        <div class="form-actions">
            <input ng-disabled="commcareSettingsForm.$invalid || !isUrl()" ng-click="submit()" type="button" value="{{msg('main.submit')}}" class="btn btn-primary"/>
            <input ng-disabled="commcareSettingsForm.$invalid || !isUrl()" ng-click="submitAndRestart()" type="button" value="{{msg('main.submitAndRestart')}}" class="btn"/>
        </div>
    </form>
</div>